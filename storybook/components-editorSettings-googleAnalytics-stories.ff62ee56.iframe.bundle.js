"use strict";(globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[]).push([[6092],{"./packages/design-system/src/components/notificationBubble/notificationBubble.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_theme__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/theme/helpers/fullSize.ts"),_theme__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/theme/helpers/centerContent.ts"),_theme__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/theme/helpers/expandPresetStyles.ts"),_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/design-system/src/components/notificationBubble/types.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function getBubbleWidth(numDigits){return 9*(numDigits-1)}const Bubble=styled_components__WEBPACK_IMPORTED_MODULE_2__.ZP.div.withConfig({displayName:"notificationBubble__Bubble",componentId:"sc-1o8hryh-0"})([""," position:relative;height:","px;width:","px;",";"],(_ref=>{let{theme,variant}=_ref;return(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.iv)(["color:",";background-color:",";border-radius:",";"],theme.colors.fg.primary,theme.colors.bg[variant],theme.borders.radius.round)}),24,(_ref2=>{let{digitLen}=_ref2;return 24+getBubbleWidth(digitLen)}),(_ref3=>{let{digitLen,$isSmall}=_ref3;return $isSmall&&(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.iv)(["height:","px;width:","px;"],20,20+getBubbleWidth(digitLen))})),Inner=styled_components__WEBPACK_IMPORTED_MODULE_2__.ZP.span.withConfig({displayName:"notificationBubble__Inner",componentId:"sc-1o8hryh-1"})([""," "," ",";font-weight:",";color:",";user-select:none;"],_theme__WEBPACK_IMPORTED_MODULE_3__.v,_theme__WEBPACK_IMPORTED_MODULE_4__.z,(_ref4=>{let{$isSmall,theme}=_ref4;return _theme__WEBPACK_IMPORTED_MODULE_5__.K(((_ref5,sizes)=>{let{paragraph}=_ref5;return paragraph[$isSmall?sizes.XSmall:sizes.Small]}))({theme})}),(_ref6=>{let{theme}=_ref6;return theme.typography.weight.bold}),(_ref7=>{let{$invertColor,theme}=_ref7;return $invertColor?theme.colors.inverted.fg.primary:theme.colors.fg.primary}));function NotificationBubble(_ref8){let{notificationCount,isSmall,variant=_types__WEBPACK_IMPORTED_MODULE_6__.C.Accent,invertTextColor,...props}=_ref8;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Bubble,{variant,$isSmall:isSmall,digitLen:notificationCount?.toString().length||1,...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Inner,{$invertColor:invertTextColor,$isSmall:isSmall,children:notificationCount})})}NotificationBubble.displayName="NotificationBubble";const __WEBPACK_DEFAULT_EXPORT__=NotificationBubble},"./packages/design-system/src/components/notificationBubble/types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>BubbleVariant});let BubbleVariant=function(BubbleVariant){return BubbleVariant.Primary="primary",BubbleVariant.Secondary="secondary",BubbleVariant.Tertiary="tertiary",BubbleVariant.Quaternary="quaternary",BubbleVariant.Positive="positive",BubbleVariant.Negative="negative",BubbleVariant.Accent="accent",BubbleVariant}({})},"./packages/design-system/src/theme/helpers/centerContent.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z:()=>centerContent});const centerContent=(0,__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js").iv)(["display:flex;align-items:center;justify-content:center;"])},"./packages/design-system/src/theme/helpers/fullSize.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>fullSizeRelative,v:()=>fullSizeAbsolute});var styled_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");const fullSizeAbsolute=(0,styled_components__WEBPACK_IMPORTED_MODULE_0__.iv)(["position:absolute;top:0;right:0;bottom:0;left:0;"]),fullSizeRelative=(0,styled_components__WEBPACK_IMPORTED_MODULE_0__.iv)(["position:relative;top:0;left:0;height:100%;width:100%;"])},"./packages/wp-dashboard/src/components/editorSettings/components.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B5:()=>SettingHeading,CG:()=>SettingsTextInput,Dl:()=>UploadedContainer,Fe:()=>MenuContainer,GN:()=>GridItemContainer,Me:()=>ConnectionHelperText,O3:()=>SettingForm,Ro:()=>TestConnectionButton,Ry:()=>CenterMutedText,TR:()=>Logo,Un:()=>InlineLink,_T:()=>CheckboxLabelText,jj:()=>Error,k$:()=>SaveButton,ke:()=>CheckboxLabel,oV:()=>GridItemButton,rJ:()=>TextInputHelperText,wE:()=>LogoMenuButton,xU:()=>VisuallyHiddenLabel,xh:()=>MultilineForm,xs:()=>SettingSubheading,yN:()=>InlineForm});var styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-system/src/components/typography/headline/index.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/theme/helpers/expandPresetStyles.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/design-system/src/components/typography/link/index.tsx"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/design-system/src/theme/helpers/outline.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/design-system/src/components/button/button.tsx"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/design-system/src/theme/helpers/visuallyHidden.ts"),_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./packages/design-system/src/components/input/input.tsx"),_googleforcreators_dashboard__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/dashboard/src/index.js");styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP.div.withConfig({displayName:"editorSettings__Wrapper",componentId:"sc-1y9ilpk-0"})([""]),(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP)(_googleforcreators_dashboard__WEBPACK_IMPORTED_MODULE_0__.wD).withConfig({displayName:"editorSettings__Main",componentId:"sc-1y9ilpk-1"})(["display:flex;flex-direction:column;padding-top:36px;margin-top:20px;margin-bottom:56px;max-width:945px;"]);const SettingForm=styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP.form.withConfig({displayName:"editorSettings__SettingForm",componentId:"sc-1y9ilpk-2"})(["display:grid;grid-template-columns:27% minmax(400px,1fr);column-gap:6.56%;padding-bottom:52px;@media ","{grid-template-columns:100%;row-gap:20px;}"],(_ref=>{let{theme}=_ref;return theme.breakpoint.mobile})),SettingHeading=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_2__.s).attrs({as:"h3"}).withConfig({displayName:"editorSettings__SettingHeading",componentId:"sc-1y9ilpk-3"})(["",";margin:8px 0;"],(_ref2=>{let{theme}=_ref2;return _googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_3__._({preset:{...theme.typography.presets.label[_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_4__.TextSize.Large]},theme})})),InlineLink=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_5__.r).withConfig({displayName:"editorSettings__InlineLink",componentId:"sc-1y9ilpk-4"})(["display:inline-block;"]),HelperText=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__.x.Paragraph).withConfig({displayName:"editorSettings__HelperText",componentId:"sc-1y9ilpk-5"})(["color:",";"],(_ref3=>{let{theme}=_ref3;return theme.colors.fg.tertiary})),ConnectionHelperText=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__.x.Paragraph).withConfig({displayName:"editorSettings__ConnectionHelperText",componentId:"sc-1y9ilpk-6"})(["padding-top:12px;color:",";"],(_ref4=>{let{hasError,theme}=_ref4;return hasError?theme.colors.fg.negative:theme.colors.fg.tertiary})),CenterMutedText=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__.x.Paragraph).withConfig({displayName:"editorSettings__CenterMutedText",componentId:"sc-1y9ilpk-7"})(["color:",";text-align:center;"],(_ref5=>{let{theme}=_ref5;return theme.colors.fg.tertiary})),SettingSubheading=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP)(HelperText).withConfig({displayName:"editorSettings__SettingSubheading",componentId:"sc-1y9ilpk-8"})(["padding:8px 0;"]),TextInputHelperText=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP)(HelperText).withConfig({displayName:"editorSettings__TextInputHelperText",componentId:"sc-1y9ilpk-9"})(["padding-top:12px;"]),CheckboxLabel=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_6__.x.Label).withConfig({displayName:"editorSettings__CheckboxLabel",componentId:"sc-1y9ilpk-10"})(["display:flex;justify-content:flex-start;margin-top:8px;cursor:pointer;"]),CheckboxLabelText=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP)(HelperText).withConfig({displayName:"editorSettings__CheckboxLabelText",componentId:"sc-1y9ilpk-11"})(["margin-left:8px;"]),Error=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP)(CenterMutedText).withConfig({displayName:"editorSettings__Error",componentId:"sc-1y9ilpk-12"})(["padding-bottom:10px;color:",";"],(_ref6=>{let{theme}=_ref6;return theme.colors.fg.negative})),UploadedContainer=styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP.div.withConfig({displayName:"editorSettings__UploadedContainer",componentId:"sc-1y9ilpk-13"})(["display:grid;grid-template-columns:repeat(auto-fill,102px);grid-auto-rows:102px;grid-column-gap:12px;grid-row-gap:20px;padding-bottom:20px;margin-bottom:4px;border:1px solid transparent;",";"],_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__.L),GridItemContainer=styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP.div.withConfig({displayName:"editorSettings__GridItemContainer",componentId:"sc-1y9ilpk-14"})(["position:relative;",";&:hover,&:focus-within{button{opacity:1 !important;}}"],(_ref7=>{let{active,theme}=_ref7;return active&&(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.iv)(["border:1px solid ",";border-radius:",";"],theme.colors.border.defaultActive,theme.borders.radius.small)})),GridItemButton=styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP.button.withConfig({displayName:"editorSettings__GridItemButton",componentId:"sc-1y9ilpk-15"})(["display:block;background-color:transparent;border:2px solid transparent;width:100%;height:100%;border-radius:4px;padding:0;",";"],_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_7__.L),Logo=styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP.img.withConfig({displayName:"editorSettings__Logo",componentId:"sc-1y9ilpk-16"})(["object-fit:cover;width:100%;height:100%;border-radius:4px;"]),MenuContainer=styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP.div.withConfig({displayName:"editorSettings__MenuContainer",componentId:"sc-1y9ilpk-17"})(["position:absolute;top:0;width:100%;height:100%;"]),LogoMenuButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__.z).attrs({size:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__.qE.Small,type:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__.L$.Secondary,variant:_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_9__.Wu.Circle}).withConfig({displayName:"editorSettings__LogoMenuButton",componentId:"sc-1y9ilpk-18"})(["opacity:",";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"],(_ref8=>{let{isActive,menuOpen}=_ref8;return menuOpen||isActive?1:0})),SaveButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__.z).withConfig({displayName:"editorSettings__SaveButton",componentId:"sc-1y9ilpk-19"})(["height:36px;"]),TestConnectionButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_8__.z).withConfig({displayName:"editorSettings__TestConnectionButton",componentId:"sc-1y9ilpk-20"})(["height:36px;margin-top:12px;"]),InlineForm=styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP.div.withConfig({displayName:"editorSettings__InlineForm",componentId:"sc-1y9ilpk-21"})(["display:flex;align-items:flex-start;"]),VisuallyHiddenLabel=styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP.label.withConfig({displayName:"editorSettings__VisuallyHiddenLabel",componentId:"sc-1y9ilpk-22"})(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_10__.j),SettingsTextInput=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP)(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_11__.Z).withConfig({displayName:"editorSettings__SettingsTextInput",componentId:"sc-1y9ilpk-23"})(["margin-right:8px;"]),MultilineForm=(styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP.span.withConfig({displayName:"editorSettings__VisuallyHiddenDescription",componentId:"sc-1y9ilpk-24"})(_googleforcreators_design_system__WEBPACK_IMPORTED_MODULE_10__.j),(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP)(SettingForm).withConfig({displayName:"editorSettings__MultilineForm",componentId:"sc-1y9ilpk-25"})(["margin-bottom:28px;","{margin-top:20px;}"],InlineForm))},"./packages/wp-dashboard/src/components/editorSettings/googleAnalytics/stories/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{_default:()=>_default,default:()=>stories});__webpack_require__("./node_modules/react/index.js");var src=__webpack_require__("./packages/react/src/index.ts"),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),translateWithMarkup=__webpack_require__("./packages/i18n/src/translateWithMarkup.tsx"),tracking_src=__webpack_require__("./packages/tracking/src/index.ts"),notificationBubble=__webpack_require__("./packages/design-system/src/components/notificationBubble/notificationBubble.tsx"),exclamation_outline=__webpack_require__("./packages/design-system/src/icons/exclamation_outline.svg"),typography_text=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),types=__webpack_require__("./packages/design-system/src/theme/types.ts"),constants=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),typography_link=__webpack_require__("./packages/design-system/src/components/typography/link/index.tsx"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");const idFormatRegex=/^ua-\d+-\d+|g-\w+$/;var components=__webpack_require__("./packages/wp-dashboard/src/components/editorSettings/components.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const StyledNotificationBubble=(0,styled_components_browser_esm.ZP)(notificationBubble.Z).withConfig({displayName:"googleAnalytics__StyledNotificationBubble",componentId:"sc-svg62t-0"})(["display:inline-block;margin-left:10px;"]),TEXT={CONTEXT:(0,i18n.__)("The story editor will append a default, configurable AMP analytics configuration to your story. If you’re interested in going beyond what the default configuration, read this <a>article</a>.","web-stories"),CONTEXT_LINK:"https://blog.amp.dev/2019/08/28/analytics-for-your-amp-stories/",SECTION_HEADING:(0,i18n.__)("Google Analytics","web-stories"),PLACEHOLDER:(0,i18n.__)("Enter your Google Analytics Measurement ID","web-stories"),ARIA_LABEL:(0,i18n.__)("Enter your Google Analytics Measurement ID","web-stories"),INPUT_ERROR:(0,i18n.__)("Invalid ID format","web-stories"),SUBMIT_BUTTON:(0,i18n.__)("Save","web-stories"),SITE_KIT_NOT_INSTALLED:(0,i18n.__)("Install <a>Site Kit by Google</a> to easily enable Google Analytics for Web Stories.","web-stories"),SITE_KIT_INSTALLED:(0,i18n.__)("Use Site Kit by Google to easily<a>activate Google Analytics</a> for Web Stories.","web-stories"),SITE_KIT_IN_USE:(0,i18n.__)("Site Kit by Google has already enabled Google Analytics for your Web Stories, all changes to your analytics tracking should occur there.","web-stories")},WarningContainer=styled_components_browser_esm.ZP.div.withConfig({displayName:"googleAnalytics__WarningContainer",componentId:"sc-svg62t-1"})(["display:flex;gap:8px;margin:14px auto;border:1px solid ",";border-radius:",";padding:8px;"],(_ref=>{let{theme}=_ref;return theme.colors.border.defaultNormal}),(_ref2=>{let{theme}=_ref2;return theme.borders.radius.small})),WarningIcon=(0,styled_components_browser_esm.ZP)(exclamation_outline.Z).withConfig({displayName:"googleAnalytics__WarningIcon",componentId:"sc-svg62t-2"})(["width:32px;height:100%;color:",";"],(_ref3=>{let{theme}=_ref3;return theme.colors.status.warning})),Message=(0,styled_components_browser_esm.ZP)(typography_text.x.Paragraph).attrs({size:types.TextSize.Small}).withConfig({displayName:"googleAnalytics__Message",componentId:"sc-svg62t-3"})(["max-width:calc(100% - 40px);"]);function GoogleAnalyticsSettings(_ref4){let{googleAnalyticsId,handleUpdateAnalyticsId,usingLegacyAnalytics,handleMigrateLegacyAnalytics,siteKitStatus={}}=_ref4;const[analyticsId,setAnalyticsId]=(0,src.eJ)(googleAnalyticsId),[inputError,setInputError]=(0,src.eJ)(""),canSave=analyticsId!==googleAnalyticsId&&!inputError,disableSaveButton=!canSave,{analyticsActive,installed,analyticsLink}=siteKitStatus;(0,src.d4)((()=>{setAnalyticsId(googleAnalyticsId)}),[googleAnalyticsId]);const onUpdateAnalyticsId=(0,src.I4)((event=>{const{value}=event.target;setAnalyticsId(value),0===value.length||function validateGoogleAnalyticsIdFormat(){return Boolean((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase().match(idFormatRegex))}(value)?setInputError(""):setInputError(TEXT.INPUT_ERROR)}),[]),handleOnSave=(0,src.I4)((()=>{canSave&&handleUpdateAnalyticsId(analyticsId)}),[canSave,analyticsId,handleUpdateAnalyticsId]),handleOnKeyDown=(0,src.I4)((e=>{"Enter"===e.key&&(e.preventDefault(),handleOnSave())}),[handleOnSave]),handleAnalyticsMigration=(0,src.I4)((evt=>{evt.preventDefault(),handleMigrateLegacyAnalytics(),(0,tracking_src.L9)("migrate_story_auto_analytics")}),[handleMigrateLegacyAnalytics]),onAutoAnalyticsClick=(0,src.I4)((evt=>(0,tracking_src.ob)(evt,"click_auto_analytics_link")),[]),onSiteKitClick=(0,src.I4)((evt=>(0,tracking_src.ob)(evt,"click_site_kit_link")),[]),onContextClick=(0,src.I4)((evt=>(0,tracking_src.ob)(evt,"click_analytics_docs")),[]),siteKitDisplayText=(0,src.Ye)((()=>analyticsActive?null:(0,jsx_runtime.jsx)(translateWithMarkup.Z,{mapping:{a:(0,jsx_runtime.jsx)(components.Un,{href:analyticsLink,rel:"noreferrer",target:"_blank",size:types.TextSize.Small,onClick:onSiteKitClick})},children:installed?TEXT.SITE_KIT_INSTALLED:TEXT.SITE_KIT_NOT_INSTALLED})),[analyticsActive,installed,analyticsLink,onSiteKitClick]);return(0,jsx_runtime.jsxs)(components.O3,{onSubmit:e=>e.preventDefault(),children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)(components.B5,{htmlFor:"gaTrackingID",as:"h3",children:[TEXT.SECTION_HEADING,usingLegacyAnalytics&&(0,jsx_runtime.jsx)(StyledNotificationBubble,{notificationCount:1,isSmall:!0})]}),(0,jsx_runtime.jsx)(components.xs,{size:types.TextSize.Small,children:siteKitDisplayText}),usingLegacyAnalytics&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(components.xs,{size:types.TextSize.Small,children:(0,jsx_runtime.jsx)(translateWithMarkup.Z,{mapping:{a:(0,jsx_runtime.jsx)(components.Un,{href:"https://wp.stories.google/docs/seo/",rel:"noreferrer",target:"_blank",size:types.TextSize.Small,onClick:onAutoAnalyticsClick})},children:(0,i18n.__)("An improved analytics configuration is now available. <a>Learn more</a>.","web-stories")})}),(0,jsx_runtime.jsx)(components.xs,{size:types.TextSize.Small,children:(0,jsx_runtime.jsx)(components.k$,{type:constants.L$.Secondary,size:constants.qE.Small,onClick:handleAnalyticsMigration,children:(0,i18n.__)("Migrate","web-stories")})})]})]}),(0,jsx_runtime.jsx)("div",{children:analyticsActive?(0,jsx_runtime.jsx)(components.rJ,{size:types.TextSize.Small,children:TEXT.SITE_KIT_IN_USE}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(components.yN,{children:[(0,jsx_runtime.jsx)(components.xU,{htmlFor:"gaTrackingId",children:TEXT.ARIA_LABEL}),(0,jsx_runtime.jsx)(components.CG,{"aria-label":TEXT.ARIA_LABEL,id:"gaTrackingId",value:analyticsId,onChange:onUpdateAnalyticsId,onKeyDown:handleOnKeyDown,placeholder:TEXT.PLACEHOLDER,hasError:Boolean(inputError),hint:inputError,disabled:analyticsActive}),(0,jsx_runtime.jsx)(components.k$,{type:constants.L$.Secondary,size:constants.qE.Small,disabled:disableSaveButton,onClick:handleOnSave,children:TEXT.SUBMIT_BUTTON})]}),(0,jsx_runtime.jsx)(components.rJ,{size:types.TextSize.Small,children:(0,jsx_runtime.jsx)(translateWithMarkup.Z,{mapping:{a:(0,jsx_runtime.jsx)(components.Un,{href:TEXT.CONTEXT_LINK,rel:"noreferrer",target:"_blank",size:types.TextSize.Small,onClick:onContextClick})},children:TEXT.CONTEXT})}),!googleAnalyticsId||googleAnalyticsId.startsWith("UA-")?(0,jsx_runtime.jsxs)(WarningContainer,{children:[(0,jsx_runtime.jsx)(WarningIcon,{"aria-hidden":!0}),(0,jsx_runtime.jsx)(Message,{children:(0,jsx_runtime.jsx)(translateWithMarkup.Z,{mapping:{a:(0,jsx_runtime.jsx)(typography_link.r,{href:(0,i18n.__)("https://support.google.com/analytics/answer/11583528?hl=en","web-stories"),rel:"noreferrer",target:"_blank",size:types.TextSize.Small,onClick:evt=>(0,tracking_src.ob)(evt,"click_ua_deprecation_docs")}),a2:(0,jsx_runtime.jsx)(typography_link.r,{href:(0,i18n.__)("https://support.google.com/analytics/answer/10089681?hl=en","web-stories"),rel:"noreferrer",target:"_blank",size:types.TextSize.Small,onClick:evt=>(0,tracking_src.ob)(evt,"click_ga4_docs")})},children:(0,i18n.__)("As <a>previously announced</a>, Universal Analytics will stop processing new visits starting <b>July 1, 2023</b>. We recommend switching to <a2>Google Analytics 4</a2> (GA4), our analytics product of record.","web-stories")})})]}):null]})})]})}GoogleAnalyticsSettings.displayName="GoogleAnalyticsSettings";const googleAnalytics=GoogleAnalyticsSettings,stories={title:"Dashboard/Views/EditorSettings/GoogleAnalytics",component:GoogleAnalyticsSettings,args:{googleAnalyticsId:"UA-000000-98",installed:!1,active:!1,analyticsActive:!1,analyticsLink:""},argTypes:{onUpdateGoogleAnalyticsId:{action:"update google analytics id submitted"},handleUpdateAnalyticsId:{action:"handleUpdateAnalyticsId"}},parameters:{controls:{exclude:["siteKitStatus","usingLegacyAnalytics","handleMigrateLegacyAnalytics"]}}},_default={render:function Render(args){return(0,jsx_runtime.jsx)(googleAnalytics,{siteKitStatus:{installed:args.installed,active:args.active,analyticsActive:args.analyticsActive,analyticsLink:args.analyticsLink},...args})}}}}]);