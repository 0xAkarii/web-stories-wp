"use strict";(globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[]).push([[1335],{"./packages/design-system/src/images/desert_color.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,_circle,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const SvgDesertColor=_ref=>{let{title,titleId,...props}=_ref;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 274 118","aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#F4F2EF",d:"M59.68 117.706 8.551 106.934C2.505 105.66-.951 99.261 1.3 93.506l1.18-3.019a10 10 0 0 1 7.987-6.268l78.795-10.544a10 10 0 0 0 2.524-.683l82.061-34.244a10 10 0 0 1 8.263.255l56.296 27.675q.654.323 1.349.545l26.84 8.637c9.132 2.939 9.287 15.804.228 18.962l-26.529 9.248c-.819.285-1.671.463-2.536.529L62.497 117.892a10 10 0 0 1-2.818-.186"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#FBBC04",fillRule:"evenodd",d:"M224 26a4 4 0 0 1 4-4h2a4 4 0 0 1 4 4v31h4V44a2 2 0 0 1 2-2h1a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2h-7v17h-10V49h-7a2 2 0 0 1-2-2V31a2 2 0 0 1 2-2h1a2 2 0 0 1 2 2v13h4zM120.857 53.179a2.143 2.143 0 0 1 4.286 0v14.25h1.714V62.07a1.072 1.072 0 0 1 2.143 0V68.5a1.2 1.2 0 0 1-.048.319 1.07 1.07 0 0 1-1.023.753h-2.786v5.892h-4.286v-7.892h-2.786A1.073 1.073 0 0 1 117 66.5v-6.429a1.072 1.072 0 0 1 2.143 0v5.358h1.714zM64.786 8a8 8 0 0 1 8-8h.428a8 8 0 0 1 8 8v34.643h6.572V22a4 4 0 0 1 4-4H92a4 4 0 0 1 4 4v24.857a4 4 0 0 1-4 4H81.214v42.786H64.786V78.857H54a3.99 3.99 0 0 1-2.828-1.171A4 4 0 0 1 50 74.857V50a4 4 0 0 1 4-4h.214a4 4 0 0 1 4 4v20.643h6.572z",clipRule:"evenodd"})),_circle||(_circle=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{cx:213,cy:72,r:13,fill:"#4285F4"})))},__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(SvgDesertColor)},"./packages/dashboard/src/app/api/useApi.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>useApi});var _googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/index.ts"),_context__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/dashboard/src/app/api/context.js");function useApi(){let selector=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.yR;return(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.Sz)(_context__WEBPACK_IMPORTED_MODULE_1__.Z,selector)}},"./packages/dashboard/src/app/views/filters/reducer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/esnext.iterator.constructor.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.filter.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.find.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.map.js");var _constants_stories__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/dashboard/src/constants/stories.ts"),_constants_templates__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/dashboard/src/constants/templates.ts"),_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/dashboard/src/app/views/filters/types.js");const __WEBPACK_DEFAULT_EXPORT__=(state,_ref)=>{let{type,payload={}}=_ref;switch(type){case _types__WEBPACK_IMPORTED_MODULE_6__._u:{const ALLOW_SAME_FILTERID=["search","status"],{key,value}=payload,_filter=state.filters.find((filter=>filter.key===key));if(!_filter)return state;if(value.filterId&&_filter?.filterId===value.filterId){if(ALLOW_SAME_FILTERID.includes(key))return state;value.filterId=null}const idx=state.filters.indexOf(_filter),filters=[...state.filters];filters[idx]={..._filter,...value};const filtersObject={};for(const filter of filters)filter.filterId&&(filtersObject[filter.key]=filter.filterId);return{...state,filters,filtersObject}}case _types__WEBPACK_IMPORTED_MODULE_6__.uM:{const{type:sortType,values}=payload,sortObject={},ACCEPTABLE_KEYS="story"===sortType?_constants_stories__WEBPACK_IMPORTED_MODULE_4__.B:_constants_templates__WEBPACK_IMPORTED_MODULE_5__.Bw;for(const key in values)key in ACCEPTABLE_KEYS&&Object.values(ACCEPTABLE_KEYS[key]).includes(values[key])&&state.sortObject[key]!==values[key]&&(sortObject[key]=values[key]);return 0===Object.entries(sortObject).length?state:{...state,sortObject:{...state.sortObject,...sortObject}}}case _types__WEBPACK_IMPORTED_MODULE_6__.zf:{const{value}=payload,currentFilters=state.filters.map((filter=>filter.key)),newFilters=value.filter((filter=>!currentFilters.includes(filter.key)));return newFilters.length?{...state,filters:[...newFilters,...state.filters]}:state}default:return state}}},"./packages/dashboard/src/app/views/filters/types.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_u:()=>UPDATE_FILTER,uM:()=>UPDATE_SORT,zf:()=>REGISTER_FILTERS});const UPDATE_FILTER="UPDATE_FILTER",UPDATE_SORT="UPDATE_SORT",REGISTER_FILTERS="REGISTER_FILTERS"},"./packages/dashboard/src/app/views/myStories/filters/StoryFiltersProvider/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>StoryFiltersProvider,u:()=>filterContext});__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.constructor.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.filter.js");var src=__webpack_require__("./packages/react/src/index.ts"),reducer=__webpack_require__("./packages/dashboard/src/app/views/filters/reducer.js"),types=__webpack_require__("./packages/dashboard/src/app/views/filters/types.js"),useApi=(__webpack_require__("./node_modules/core-js/modules/esnext.iterator.map.js"),__webpack_require__("./packages/dashboard/src/app/api/useApi.js"));const cachedPrimaryOptions={};const taxonomy_useTaxonomyFilters=function useTaxonomyFilters(){const{getTaxonomies,getTaxonomyTerms}=(0,useApi.Z)((_ref=>{let{actions:{taxonomyApi:{getTaxonomies,getTaxonomyTerms}}}=_ref;return{getTaxonomies,getTaxonomyTerms}})),queryTaxonomyTerms=(0,src.I4)((async(taxonomy,search)=>{const{restBase,restPath}=taxonomy;return(await getTaxonomyTerms(restPath,{search,per_page:-1})).map((t=>({...t,restBase,restPath})))}),[getTaxonomyTerms]),getPrimaryOptions=(0,src.I4)((async taxonomy=>{const{restBase}=taxonomy;return cachedPrimaryOptions[restBase]||(cachedPrimaryOptions[restBase]=await queryTaxonomyTerms(taxonomy)),cachedPrimaryOptions[restBase]}),[queryTaxonomyTerms]);return(0,src.I4)((async()=>(await getTaxonomies({hierarchical:!0,show_ui:!0})).map((taxonomy=>({key:taxonomy.restBase,restPath:taxonomy.restPath,placeholder:taxonomy.labels.allItems,ariaLabel:taxonomy.labels.filterByItem,noMatchesFoundLabel:taxonomy.labels.notFound,searchPlaceholder:taxonomy.labels.searchItems,query:search=>queryTaxonomyTerms(taxonomy,search),getPrimaryOptions:()=>getPrimaryOptions(taxonomy)})))),[queryTaxonomyTerms,getPrimaryOptions,getTaxonomies])};var i18n=__webpack_require__("./packages/i18n/src/i18n.ts");let useAuthorFilter_cachedPrimaryOptions=null;const author_useAuthorFilter=function useAuthorFilter(){const{getAuthors}=(0,useApi.Z)((_ref=>{let{actions:{usersApi:{getAuthors}}}=_ref;return{getAuthors}})),queryAuthors=(0,src.I4)((async search=>(await getAuthors(search)).map((_ref2=>{let{id,name}=_ref2;return{id,name}}))),[getAuthors]),getPrimaryOptions=(0,src.I4)((async()=>(useAuthorFilter_cachedPrimaryOptions||(useAuthorFilter_cachedPrimaryOptions=await queryAuthors()),useAuthorFilter_cachedPrimaryOptions)),[queryAuthors]);return(0,src.I4)((()=>({key:"author",ariaLabel:(0,i18n.__)("Filter stories by author","web-stories"),placeholder:(0,i18n.__)("All Authors","web-stories"),searchPlaceholder:(0,i18n.__)("Search Authors","web-stories"),noMatchesFoundLabel:(0,i18n.__)("No authors found","web-stories"),query:queryAuthors,getPrimaryOptions})),[queryAuthors,getPrimaryOptions])};var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const filterContext=(0,src.kr)({state:{},actions:{}});function StoryFiltersProvider(_ref){let{children}=_ref;const initializeTaxonomyFilters=taxonomy_useTaxonomyFilters(),initializeAuthorFilter=author_useAuthorFilter(),[state,dispatch]=(0,src._Y)(reducer.Z,{filters:[],filtersObject:{},sortObject:{}}),updateSort=(0,src.I4)((values=>{dispatch({type:types.uM,payload:{type:"story",values}})}),[]),updateFilter=(0,src.I4)(((key,value)=>{dispatch({type:types._u,payload:{key,value}})}),[]),registerFilters=(0,src.I4)((value=>{dispatch({type:types.zf,payload:{value}})}),[]),initializeStoryFilters=(0,src.I4)((async()=>{const filters=[...await initializeTaxonomyFilters(),initializeAuthorFilter()].filter((filter=>Boolean(filter)));filters.length&&registerFilters(filters)}),[registerFilters,initializeAuthorFilter,initializeTaxonomyFilters]),contextValue=(0,src.Ye)((()=>({state,actions:{updateFilter,updateSort,registerFilters}})),[state,updateFilter,updateSort,registerFilters]);return(0,src.d4)((()=>{initializeStoryFilters()}),[initializeStoryFilters]),(0,jsx_runtime.jsx)(filterContext.Provider,{value:contextValue,children})}StoryFiltersProvider.displayName="StoryFiltersProvider"},"./packages/dashboard/src/app/views/myStories/filters/useStoryFilters.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>useStoryFilters});var _googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/index.ts"),_StoryFiltersProvider__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/dashboard/src/app/views/myStories/filters/StoryFiltersProvider/index.js");function useStoryFilters(){let selector=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.yR;return(0,_googleforcreators_react__WEBPACK_IMPORTED_MODULE_0__.Sz)(_StoryFiltersProvider__WEBPACK_IMPORTED_MODULE_1__.u,selector)}},"./packages/dashboard/src/app/views/shared/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{dA:()=>BodyViewOptions,Xr:()=>emptyContentMessage,CD:()=>pageHeading});__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/core-js/modules/esnext.iterator.map.js");var styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),translateWithMarkup=__webpack_require__("./packages/i18n/src/translateWithMarkup.tsx"),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),datalist=__webpack_require__("./packages/design-system/src/components/datalist/datalist.tsx"),typography_text=__webpack_require__("./packages/design-system/src/components/typography/text/index.ts"),types=__webpack_require__("./packages/design-system/src/theme/types.ts"),components=__webpack_require__("./packages/dashboard/src/components/index.js"),useStoryFilters=__webpack_require__("./packages/dashboard/src/app/views/myStories/filters/useStoryFilters.js"),dropdown=__webpack_require__("./packages/design-system/src/components/dropDown/dropdown.tsx"),src=__webpack_require__("./packages/react/src/index.ts"),constants=__webpack_require__("./packages/dashboard/src/constants/index.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const StyledDropDown=(0,styled_components_browser_esm.ZP)(dropdown.Z).withConfig({displayName:"sortDropDown__StyledDropDown",componentId:"sc-lqi6ue-0"})(["width:210px;"]);function SortDropDown(_ref){let{pageSortOptions,pageSortDefaultOption,currentSort,handleSortChange}=_ref;const _handleSortChange=(0,src.I4)(((_,orderby)=>{handleSortChange({orderby})}),[handleSortChange]);return(0,jsx_runtime.jsx)(StyledDropDown,{ariaLabel:(0,i18n.__)("Choose sort option for display","web-stories"),options:pageSortOptions,type:constants.fO.DropDown,selectedValue:currentSort?.orderby||pageSortDefaultOption,onMenuItemClick:_handleSortChange})}SortDropDown.displayName="SortDropDown";const sortDropDown=SortDropDown,FILTER_MAX_WIDTH=350,DisplayFormatContainer=styled_components_browser_esm.ZP.div.withConfig({displayName:"bodyViewOptions__DisplayFormatContainer",componentId:"sc-x2ax3p-0"})(["display:grid;gap:1rem;min-height:76px;grid-template-columns:1fr auto auto;justify-content:start;align-items:center;margin-top:-10px;"]),StorySortDropdownContainer=styled_components_browser_esm.ZP.div.withConfig({displayName:"bodyViewOptions__StorySortDropdownContainer",componentId:"sc-x2ax3p-1"})(["margin:auto 8px;align-self:flex-end;"]),ControlsContainer=styled_components_browser_esm.ZP.div.withConfig({displayName:"bodyViewOptions__ControlsContainer",componentId:"sc-x2ax3p-2"})(["display:flex;flex-wrap:wrap;margin:1rem 0;row-gap:1rem;justify-self:end;"]),BodyViewOptionsHeader=styled_components_browser_esm.ZP.div.withConfig({displayName:"bodyViewOptions__BodyViewOptionsHeader",componentId:"sc-x2ax3p-3"})([""]),StyledDatalist=(0,styled_components_browser_esm.ZP)(datalist.Z).withConfig({displayName:"bodyViewOptions__StyledDatalist",componentId:"sc-x2ax3p-4"})(["max-width:","px;"],FILTER_MAX_WIDTH);function BodyViewOptions(_ref){let{handleLayoutSelect,resultsLabel,layoutStyle,pageSortOptions=[],pageSortDefaultOption,showGridToggle,showSortDropdown,filters=[],currentSort,handleSortChange}=_ref;const{updateFilter}=(0,useStoryFilters.Z)((_ref2=>{let{actions:{updateFilter}}=_ref2;return{updateFilter}}));return(0,jsx_runtime.jsxs)(components.wD,{children:[(0,jsx_runtime.jsx)(BodyViewOptionsHeader,{id:"body-view-options-header"}),(0,jsx_runtime.jsxs)(DisplayFormatContainer,{children:[(0,jsx_runtime.jsx)(typography_text.x.Span,{size:types.TextSize.Small,children:(0,jsx_runtime.jsx)(translateWithMarkup.Z,{children:resultsLabel})}),(0,jsx_runtime.jsxs)(ControlsContainer,{children:[filters?.length?filters.map((filter=>(0,jsx_runtime.jsx)(StorySortDropdownContainer,{title:filter.placeholder,children:(0,jsx_runtime.jsx)(StyledDatalist,{hasSearch:!0,hasDropDownBorder:!0,searchResultsLabel:(0,i18n.__)("Search results","web-stories"),"aria-label":filter.ariaLabel,onChange:_ref3=>{let{id}=_ref3;updateFilter(filter.key,{filterId:id})},getOptionsByQuery:filter.query,getPrimaryOptions:filter.getPrimaryOptions,selectedId:filter.filterId,placeholder:filter.placeholder,noMatchesFoundLabel:filter.noMatchesFoundLabel,searchPlaceholder:filter.searchPlaceholder,offsetOverride:!0,maxWidth:FILTER_MAX_WIDTH,containerStyleOverrides:(0,styled_components_browser_esm.iv)(["flex-direction:column;"])})},filter.key))):null,showSortDropdown&&(0,jsx_runtime.jsx)(StorySortDropdownContainer,{children:(0,jsx_runtime.jsx)(sortDropDown,{pageSortOptions,pageSortDefaultOption,currentSort,handleSortChange})})]}),showGridToggle&&(0,jsx_runtime.jsx)(components.WN,{layoutStyle,onPress:handleLayoutSelect})]})]})}BodyViewOptions.displayName="BodyViewOptions";var desert_color=__webpack_require__("./packages/design-system/src/images/desert_color.svg");const Message=styled_components_browser_esm.ZP.div.withConfig({displayName:"emptyContentMessage__Message",componentId:"sc-1wgc64w-0"})(["display:flex;flex-direction:column;align-items:center;max-width:400px;margin:20vh auto;& > *{text-align:center;margin:0 auto;}button,a{margin-top:48px;}"]),EmptyImage=(0,styled_components_browser_esm.ZP)(desert_color.Z).withConfig({displayName:"emptyContentMessage__EmptyImage",componentId:"sc-1wgc64w-1"})(["margin-bottom:48px;"]);function EmptyContentMessage(_ref){let{children}=_ref;return(0,jsx_runtime.jsxs)(Message,{children:[(0,jsx_runtime.jsx)(EmptyImage,{"aria-hidden":!0,width:274,height:118}),children]})}EmptyContentMessage.displayName="EmptyContentMessage";const emptyContentMessage=EmptyContentMessage;var display=__webpack_require__("./packages/design-system/src/components/typography/display/index.ts"),noop=__webpack_require__("./packages/design-system/src/utils/noop.ts"),search=__webpack_require__("./packages/design-system/src/components/search/search.tsx");const HeadingContainer=(0,styled_components_browser_esm.ZP)(components.wD).withConfig({displayName:"pageHeading__HeadingContainer",componentId:"sc-1ln7suo-0"})(["display:flex;align-items:center;flex-wrap:wrap;justify-content:space-between;margin-bottom:16px;padding-top:48px;border-bottom:1px solid ",";"],(_ref=>{let{theme}=_ref;return theme.colors.divider.secondary})),StyledHeadline=(0,styled_components_browser_esm.ZP)(display.s).withConfig({displayName:"pageHeading__StyledHeadline",componentId:"sc-1ln7suo-1"})(["display:flex;align-items:center;margin-right:28px;padding-bottom:24px;white-space:nowrap;"]),HeadlineFilters=styled_components_browser_esm.ZP.div.withConfig({displayName:"pageHeading__HeadlineFilters",componentId:"sc-1ln7suo-2"})(["display:flex;align-items:center;margin:auto 0 auto 0;padding-bottom:24px;"]),HeaderSearch=styled_components_browser_esm.ZP.div.withConfig({displayName:"pageHeading__HeaderSearch",componentId:"sc-1ln7suo-3"})(["width:208px;max-width:208px;min-width:208px;margin:auto 0;padding-bottom:24px;"]),PageHeading=_ref2=>{let{children,heading,searchPlaceholder,searchOptions=[],showSearch,handleSearchChange,searchValue,onClear=noop.Z}=_ref2;return(0,jsx_runtime.jsxs)(HeadingContainer,{children:[(0,jsx_runtime.jsxs)(StyledHeadline,{as:"h2",size:types.TextSize.Small,children:[(0,jsx_runtime.jsx)(components.ke,{showOnlyOnSmallViewport:!0}),heading]}),children&&(0,jsx_runtime.jsx)(HeadlineFilters,{children}),showSearch&&(0,jsx_runtime.jsx)(HeaderSearch,{children:(0,jsx_runtime.jsx)(search.Z,{placeholder:searchPlaceholder,searchValue,options:searchOptions,handleSearchValueChange:handleSearchChange,onClear,emptyText:(0,i18n.__)("No options available","web-stories")})})]})};PageHeading.displayName="PageHeading";const pageHeading=PageHeading},"./packages/design-system/src/components/typography/display/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>Display});var styled_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_theme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-system/src/theme/types.ts"),_theme__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/design-system/src/theme/helpers/expandPresetStyles.ts"),_styles__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/design-system/src/components/typography/styles.ts");const Display=styled_components__WEBPACK_IMPORTED_MODULE_0__.ZP.h1.withConfig({displayName:"display__Display",componentId:"sc-1x3xqpc-0"})([""," ",""],_styles__WEBPACK_IMPORTED_MODULE_1__.y,(_ref=>{let{size=_theme__WEBPACK_IMPORTED_MODULE_2__.TextSize.Medium,theme}=_ref;return _theme__WEBPACK_IMPORTED_MODULE_3__._({preset:theme.typography.presets.display[size],theme})}))}}]);