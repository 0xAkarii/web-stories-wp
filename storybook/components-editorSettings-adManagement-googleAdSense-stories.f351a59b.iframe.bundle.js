"use strict";(globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[]).push([[2912],{"./packages/wp-dashboard/src/components/editorSettings/adManagement/googleAdSense/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>googleAdSense});__webpack_require__("./node_modules/react/index.js");var src=__webpack_require__("./packages/react/src/index.ts"),sprintf=__webpack_require__("./packages/i18n/src/sprintf.ts"),i18n=__webpack_require__("./packages/i18n/src/i18n.ts"),translateWithMarkup=__webpack_require__("./packages/i18n/src/translateWithMarkup.tsx"),tracking_src=__webpack_require__("./packages/tracking/src/index.ts"),constants=__webpack_require__("./packages/design-system/src/components/button/constants.ts"),types=__webpack_require__("./packages/design-system/src/theme/types.ts");const adSensePublisherIdFormatRegex=/^(ca-)?pub-\d{16}$/;const adSenseSlotIdFormatRegex=/^\d{10}$/;var components=__webpack_require__("./packages/wp-dashboard/src/components/editorSettings/components.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const TEXT={PUBLISHER_ID_CONTEXT:(0,sprintf.Z)((0,i18n.__)("Example: %1$s or %2$s. <a>Find your AdSense Publisher ID</a>.","web-stories"),"pub-1234567891234567","ca-pub-1234567891234567"),PUBLISHER_ID_CONTEXT_LINK:(0,i18n.__)("https://support.google.com/adsense/answer/105516","web-stories"),PUBLISHER_ID_PLACEHOLDER:(0,i18n.__)("Enter your Publisher ID","web-stories"),PUBLISHER_ID_LABEL:(0,i18n.__)("Google AdSense Publisher ID","web-stories"),SLOT_ID_CONTEXT:(0,sprintf.Z)((0,i18n.__)("Example: %s. Copy the slot ID from <a>your ad unitâ€™s code</a>. The same ad unit will be used for all of your Web Stories.","web-stories"),"1234567890"),SLOT_ID_CONTEXT_LINK:(0,i18n.__)("https://support.google.com/adsense/answer/9274019","web-stories"),SLOT_ID_PLACEHOLDER:(0,i18n.__)("Enter your Slot ID","web-stories"),SLOT_ID_LABEL:(0,i18n.__)("Google AdSense Slot ID","web-stories"),INPUT_ERROR:(0,i18n.__)("Invalid ID format","web-stories"),SUBMIT_BUTTON:(0,i18n.__)("Save","web-stories")};const googleAdSense=function GoogleAdSenseSettings(_ref){let{publisherId:adSensePublisherId,slotId:adSenseSlotId,handleUpdatePublisherId,handleUpdateSlotId}=_ref;const[publisherId,setPublisherId]=(0,src.eJ)(adSensePublisherId),[publisherIdInputError,setPublisherIdInputError]=(0,src.eJ)(""),canSavePublisherId=publisherId!==adSensePublisherId&&!publisherIdInputError,disablePublisherIdSaveButton=!canSavePublisherId,[slotId,setSlotId]=(0,src.eJ)(adSenseSlotId),[slotIdInputError,setSlotIdInputError]=(0,src.eJ)(""),canSaveSlotId=slotId!==adSenseSlotId&&!slotIdInputError,disableSlotIdSaveButton=!canSaveSlotId;(0,src.d4)((()=>{setPublisherId(adSensePublisherId)}),[adSensePublisherId]);const onUpdatePublisherId=(0,src.I4)((event=>{const{value}=event.target;setPublisherId(value),0===value.length||function validateAdSensePublisherIdFormat(){return Boolean((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase().match(adSensePublisherIdFormatRegex))}(value)?setPublisherIdInputError(""):setPublisherIdInputError(TEXT.INPUT_ERROR)}),[]),onSavePublisherId=(0,src.I4)((()=>{canSavePublisherId&&handleUpdatePublisherId(publisherId)}),[canSavePublisherId,publisherId,handleUpdatePublisherId]),onKeyDownPublisherId=(0,src.I4)((e=>{"Enter"===e.key&&(e.preventDefault(),onSavePublisherId())}),[onSavePublisherId]);(0,src.d4)((()=>{setSlotId(adSenseSlotId)}),[adSenseSlotId]);const onUpdateSlotId=(0,src.I4)((event=>{const{value}=event.target;setSlotId(value),0===value.length||function validateAdSenseSlotIdFormat(){return Boolean((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase().match(adSenseSlotIdFormatRegex))}(value)?setSlotIdInputError(""):setSlotIdInputError(TEXT.INPUT_ERROR)}),[]),onSaveSlotId=(0,src.I4)((()=>{canSaveSlotId&&handleUpdateSlotId(slotId)}),[canSaveSlotId,slotId,handleUpdateSlotId]),onKeyDownSlotId=(0,src.I4)((e=>{"Enter"===e.key&&(e.preventDefault(),onSaveSlotId())}),[onSaveSlotId]),handleClick=(0,src.I4)((evt=>(0,tracking_src.ob)(evt,"click_adsense_publisher_id_docs")),[]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(components.yN,{children:[(0,jsx_runtime.jsx)(components.xU,{htmlFor:"adSensePublisherId",children:TEXT.PUBLISHER_ID_LABEL}),(0,jsx_runtime.jsx)(components.CG,{"aria-label":TEXT.PUBLISHER_ID_LABEL,id:"adSensePublisherId",name:"adSensePublisherId","data-testid":"adSensePublisherId",value:publisherId,onChange:onUpdatePublisherId,onKeyDown:onKeyDownPublisherId,placeholder:TEXT.PUBLISHER_ID_PLACEHOLDER,hasError:Boolean(publisherIdInputError),hint:publisherIdInputError}),(0,jsx_runtime.jsx)(components.k$,{type:constants.L$.Secondary,size:constants.qE.Small,disabled:disablePublisherIdSaveButton,onClick:onSavePublisherId,"data-testid":"adSensePublisherIdButton",children:TEXT.SUBMIT_BUTTON})]}),(0,jsx_runtime.jsx)(components.rJ,{size:types.TextSize.Small,children:(0,jsx_runtime.jsx)(translateWithMarkup.Z,{mapping:{a:(0,jsx_runtime.jsx)(components.Un,{href:TEXT.PUBLISHER_ID_CONTEXT_LINK,rel:"noreferrer",target:"_blank",onClick:handleClick,size:types.TextSize.Small})},children:TEXT.PUBLISHER_ID_CONTEXT})}),(0,jsx_runtime.jsxs)(components.yN,{children:[(0,jsx_runtime.jsx)(components.xU,{htmlFor:"adSenseSlotId",children:TEXT.SLOT_ID_LABEL}),(0,jsx_runtime.jsx)(components.CG,{id:"adSenseSlotId","aria-label":TEXT.SLOT_ID_LABEL,name:"adSenseSlotId","data-testid":"adSenseSlotId",value:slotId,onChange:onUpdateSlotId,onKeyDown:onKeyDownSlotId,placeholder:TEXT.SLOT_ID_PLACEHOLDER,hasError:Boolean(slotIdInputError),hint:slotIdInputError}),(0,jsx_runtime.jsx)(components.k$,{type:constants.L$.Secondary,size:constants.qE.Small,disabled:disableSlotIdSaveButton,onClick:onSaveSlotId,"data-testid":"adSenseSlotIdButton",children:TEXT.SUBMIT_BUTTON})]}),(0,jsx_runtime.jsx)(components.rJ,{size:types.TextSize.Small,children:(0,jsx_runtime.jsx)(translateWithMarkup.Z,{mapping:{a:(0,jsx_runtime.jsx)(components.Un,{href:TEXT.SLOT_ID_CONTEXT_LINK,rel:"noreferrer",target:"_blank",size:types.TextSize.Small})},children:TEXT.SLOT_ID_CONTEXT})})]})}},"./packages/wp-dashboard/src/components/editorSettings/adManagement/googleAdSense/stories/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{_default:()=>_default,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var ___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/wp-dashboard/src/components/editorSettings/adManagement/googleAdSense/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Dashboard/Views/EditorSettings/AdManagement/GoogleAdSense",component:___WEBPACK_IMPORTED_MODULE_1__.Z,args:{slotId:"",publisherId:""},argTypes:{handleUpdateSlotId:{action:"update slot id"},handleUpdatePublisherId:{action:"update publisher id"}}},_default={render:function Render(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.Z,{...args})}}},"./packages/design-system/node_modules/uuid/dist/esm-browser/v4.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>esm_browser_v4});const esm_browser_native={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let i=0;i<256;++i)byteToHex.push((i+256).toString(16).slice(1));function unsafeStringify(arr,offset=0){return byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+"-"+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+"-"+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+"-"+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+"-"+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]]}const esm_browser_v4=function v4(options,buf,offset){if(esm_browser_native.randomUUID&&!buf&&!options)return esm_browser_native.randomUUID();const rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf){offset=offset||0;for(let i=0;i<16;++i)buf[offset+i]=rnds[i];return buf}return unsafeStringify(rnds)}}}]);